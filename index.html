<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="./style.css">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creatio form</title>
</head>
<body>
    <h1 class="main__title">
        Регистрация контакта
    </h1>

    <form class="mainForm" id="submit_button" accept-charset="UTF-8" onSubmit="createObject(); return false">
        <input type="text" placeholder="ФИО" required class="input" id="fullName">
        <input type="email" placeholder="Email" required class="input" id="email">
        <input type="tel" placeholder="Телефон" required class="input" id="phoneNumber">
        <input type="text" placeholder="Компания" required class="input" id="company">

        <button class="submit" type="submit">Зарегистрироваться</button>
    </form>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://webtracking-v01.bpmonline.com/JS/track-cookies.js"></script>
    <script src="https://webtracking-v01.bpmonline.com/JS/create-object.js"></script>
    <script>
    
    /**
    * Replace the "css-selector" placeholders in the code below with the element selectors on your landing page.
    * You can use #id or any other CSS selector that will define the input field explicitly.
    * Example: "Email": "#MyEmailField".
    * If you don't have a field from the list below placed on your landing, leave the placeholder or remove the line.
    */
    var config = {
        fields: {
            "FullName": "#fullName", // Name of a visitor, submitting the page
            "Email": "#email", // Visitor's email
            "Phone": "#phoneNumber", // Visitor's phone number
            "Company": "#company", // Name of a company (for business landing pages)

            // "Zip": "css-selector", // Visitor's ZIP code
            // "Industry": "css-selector", // Company industry (for business landing pages)
            // "FullJobTitle": "css-selector", // Visitor's job title (for business landing pages)
            // "UseEmail": "css-selector" // Logical value: 'true' equals to visitor's opt-in to receive emails 
        },
        contactFields: {
            "FullName": "#fullName", // Name of a visitor, submitting the page
            "Email": "#email", // Visitor's email
            "Phone": "#phoneNumber", // Visitor's phone number
            "Company": "#company", // Name of a company (for business landing pages)
        },
        customFields: {"WebFormId":"4a6bf86a-8e8d-464a-a26e-45783a2506ae"},
        landingId: "4a6bf86a-8e8d-464a-a26e-45783a2506ae",
        serviceUrl: "https://144-0273903-service-enterprise-demo.creatio.com/0/ServiceModel/GeneratedObjectWebFormService.svc/SaveWebFormObjectData",
        redirectUrl: ""
    };
    /**
    * The function below creates a object from the submitted data.
    * Bind this function call to the "onSubmit" event of the form or any other elements events.
    * Example: <form class="mainForm" name="landingForm" onSubmit="createObject(); return false">
    */
    function createObject() {
        //Если залезут в код всё равно узнают ведь, буду надеяться, что не все такие умные и не заспамят мне всё creatio
        const password = prompt('Защитный пароль');
        console.log(config)
        if(password === '123') {
            landing.createObjectFromLanding(config);
        }
    }
    /**
    * The function below inits landing page using URL parameters.
    */
    function initLanding() {
        landing.initLanding(config);
    }
    jQuery(document).ready(initLanding);
    </script>

</body>
</html>